/*
** EPITECH PROJECT, 2017
** main.c
** File description:
** Main file for 104intersection
*/

#include <stdlib.h>
#include <math.h>
#include <stdio.h>
#include "104.h"
#include "my.h"

void main(int ac, char **av)
{
	if ((ac != 9) || (av[1][1] != '\0') || !is_nbr(av[1]) || !is_nbr(av[2]) || !is_nbr(av[3]) || !is_nbr(av[4]) || !is_nbr(av[5]) || !is_nbr(av[6]) || !is_nbr(av[7]) || !is_nbr(av[8]))
		exit(84);	
	printf((av[1][0] == 49) ? "sphere of radius %i\nstraight line going through the (%i,%i,%i) point and of direction vector (%i,%i,%i)\n" : (av[1][0] == 50) ? "cylinder of radius %i\nstraight line going through the (%i,%i,%i) point and of direction vector (%i,%i,%i)\n" : "cone of %i degree angle\nstraight line going through the (%i,%i,%i) point and of direction vector (%i,%i,%i)\n",
	atoi(av[8]), atoi(av[2]), atoi(av[3]), atoi(av[4]), atoi(av[5]), atoi(av[6]), atoi(av[7]));
	(av[1][0] == 49) ? printf(((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD) >= 0) ? "%i intersection point :\n(%.3f,%.3f,%.3f)\n" : "No intersection point.\n", (((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD)) == 0) ? 1 : 2, VX * (-((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) + sqrt((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD))) / (2 * (VX * VX + VY * VY + VZ * VZ)) + PX, VY * (-((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) + sqrt((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD))) / (2 * (VX * VX + VY * VY + VZ * VZ)) + PY, VZ * (-((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) + sqrt((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD))) / (2 * (VX * VX + VY * VY + VZ * VZ)) + PZ) && (((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD)) > 0) ? printf("(%.3f,%.3f,%.3f)\n", VX * (-((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) - sqrt((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD))) / (2 * (VX * VX + VY * VY + VZ * VZ)) + PX, VY * (-((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) - sqrt((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD))) / (2 * (VX * VX + VY * VY + VZ * VZ)) + PY, VZ * (-((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) - sqrt((((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ)) * ((2 * PX * VX) + (2 * PY * VY) + (2 * PZ * VZ))) - 4 * (VX * VX + VY * VY + VZ * VZ) *(PX * PX + PY * PY + PZ * PZ - RAD * RAD))) / (2 * (VX * VX + VY * VY + VZ * VZ)) + PZ) : 0 : (av[1][0] == 50) ? printf(((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD) >= 0) ? "%i intersection point :\n(%.3f,%.3f,%.3f)\n" : "No intersection point.\n", (((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD)) == 0) ? 1 : 2, VX * (-((2 * PX * VX) + (2 * PY * VY)) + sqrt((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD))) / (2 * (VX * VX + VY * VY)) + PX, VY * (-((2 * PX * VX) + (2 * PY * VY)) + sqrt((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD))) / (2 * (VX * VX + VY * VY)) + PY, VZ * (-((2 * PX * VX) + (2 * PY * VY)) + sqrt((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD))) / (2 * (VX * VX + VY * VY)) + PZ) && (((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD)) > 0) ? printf("(%.3f,%.3f,%.3f)\n", VX * (-((2 * PX * VX) + (2 * PY * VY)) - sqrt((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD))) / (2 * (VX * VX + VY * VY)) + PX, VY * (-((2 * PX * VX) + (2 * PY * VY)) - sqrt((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD))) / (2 * (VX * VX + VY * VY)) + PY, VZ * (-((2 * PX * VX) + (2 * PY * VY)) - sqrt((((2 * PX * VX) + (2 * PY * VY)) * ((2 * PX * VX) + (2 * PY * VY))) - 4 * (VX * VX + VY * VY) *(PX * PX + PY * PY - RAD * RAD))) / (2 * (VX * VX + VY * VY)) + PZ) : 0 : printf(((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE))) >= 0) ? "%i intersection point :\n(%.3f,%.3f,%.3f)\n" : "No intersection point.\n", (((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE)))) == 0) ? 1 : 2, VX * (-((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) + sqrt((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE))))) / (2 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE)))) + PX, VY * (-((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) + sqrt((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE))))) / (2 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE)))) + PY, VZ * (-((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) + sqrt((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE))))) / (2 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE)))) + PZ) && (((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE)))) > 0) ? printf("(%.3f,%.3f,%.3f)\n", VX * (-((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) - sqrt((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE))))) / (2 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE)))) + PX, VY * (-((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) - sqrt((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE))))) / (2 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE)))) + PY, VZ * (-((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) - sqrt((((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE))) * ((2 * PX * VX) + (2 * PY * VY)  - ((2 * PZ * VZ) / (ANGLE)))) - 4 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE))) *(PX * PX + PY * PY - ((PZ * PZ) / (ANGLE))))) / (2 * (VX * VX + VY * VY - ((VZ * VZ) / (ANGLE)))) + PZ) : 0;
}